# 5. 프로세스 간 통신 (IPC) - 운영체제

---

### 개념

- 프로세스는 독립적인 주소 공간을 가지므로 직접 메모리 공유 불가능  
- 서로 다른 프로세스 간 데이터를 주고받기 위한 메커니즘을 IPC(Inter-Process Communication)라 함  
- 데이터 교환, 동기화, 신호 전달 등 다양한 형태 지원

---

### 주요 IPC 방식

| IPC 방식      | 설명                                | 특징 및 용도                               |
|-------------|---------------------------------|----------------------------------------|
| 파이프 (Pipe)  | 프로세스 간 단방향 데이터 흐름 채널         | 주로 부모-자식 프로세스 간 통신에 사용, 반이중 통신           |
| 메시지 큐 (Message Queue) | 메시지 단위 비동기 데이터 교환                   | 우선순위 지정 가능, 여러 프로세스 간 효과적인 메시징         |
| 공유 메모리 (Shared Memory) | 프로세스 간 메모리 영역을 공유                      | 가장 빠른 IPC 방법, 동기화 문제 주의 필요                    |
| 소켓 (Socket)  | 네트워크 소켓 API 이용한 프로세스 데이터 교환      | 원격 프로세스 통신에 적합, 분산 시스템 구현 가능              |
| 신호 (Signal)   | 프로세스 상태 변화 알림 위한 간단 메시지 전달         | 주로 이벤트 알림, 비동기적 통신                             |
| 원격 프로시저 호출 (RPC) | 다른 주소 공간 프로세스의 함수 호출을 추상화               | 분산 환경에서 로컬 함수 호출처럼 RPC 가능                   |

---

### 동기식 vs 비동기식 통신

- 동기식: 송신/수신이 동시에 진행되는 방식, 주로 파이프, 소켓에서 구현  
- 비동기식: 메시지를 큐에 쌓아두고 필요할 때 처리, 메시지 큐 등이 이에 해당

---

### 파이썬 IPC 예제: 파이프 사용

```python
from multiprocessing import Process, Pipe

def sender(conn):
    conn.send("안녕하세요, 부모 프로세스!")
    conn.close()

if name == "main":
    parent_conn, child_conn = Pipe()
    p = Process(target=sender, args=(child_conn,))
    p.start()
    print("부모 프로세스가 받은 메시지:", parent_conn.recv())
    p.join()

```

---

### 예제 실행 결과

```python
부모 프로세스가 받은 메시지: 안녕하세요, 부모 프로세스!

```

- 자식 프로세스가 부모 프로세스로 문자열 메시지를 전송하는 단방향 통신  

---

### 추가 내용

- IPC는 프로세스 협업과 시스템 자원 공유에 필수  
- 효율적 IPC 설계는 시스템 성능, 확장성에 직접 영향  
- 실제 운영체제는 다양한 IPC 유형 지원, 요구에 맞춰 선택 가능  
- 동기화와 함께 사용해 경합과 데이터 무결성 문제 해결  

---